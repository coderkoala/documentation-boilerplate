(function(){var a=this;var b=a.$;var c=a.Documentation={};var d=c.core=function(e){var f={el:{documentation:"#documentation",loading:"#loading"},copy:{warning_file_protocol:"Warning: document.md cannot be loaded through the `file:` protocol. Browse the file with a webserver"}};this.config=b.extend(true,f,e||{});this._init()};d.prototype._init=function(){this._registerInstanceVariables();if(a.location.protocol!=="file:"){this.$documentation.load("document.md",b.proxy(this._processMarkdown,this))}else{this.$loading.text(this.config.copy.warning_file_protocol)}this.$documentation.on("click","a",b.proxy(this.targetBlank,this))};d.prototype._registerInstanceVariables=function(){var e=this.config;this.$documentation=b(e.el.documentation);this.$loading=b(e.el.loading)};d.prototype._processMarkdown=function(g){var f=new Showdown.converter(),e=f.makeHtml(g);this.$documentation.html(e);b("h2").each(function(k,m){var j=b(),l=m.nextSibling;b(m).wrapInner('<span class="double-underline" />');j.push(m);while(l){if(!b(l).is("h2")&&!b(l).is("table")){j.push(l);l=l.nextSibling}else{break}}var n=b(m).attr("id");b(m).attr("id","");j.wrapAll('<div class="main-container container-fluid" id="'+n+'" />')});b("h2").wrap("<header />");b("p").first().attr("class","lead");b("h1").attr("id","").prependTo("header:first");var h=b("h1 code").text();b("h1").find("code").replaceWith('<span class="highlight">'+h+"</span>");b("table").addClass("table table-bordered table-striped").wrap('<div class="large-container container-fluid" />');b("pre").addClass("prettyprint linenums");a.prettyPrint&&prettyPrint();this.fillContent({template_source:"#tmpl-footer",append_to:this.config.el.documentation,context:copy})};d.prototype.targetBlank=function(e){e.preventDefault();var f=b(e.currentTarget).attr("href");a.open(f)};d.prototype.fillContent=function(g){var h=b(g.template_source).html(),f=Handlebars.compile(h),e=f(g.context);b(g.append_to).append(e)}}).call(this);