(function(){var a=this;var b=a.$;var c=a.Documentation={};var d=c.core=function(e){var f={md_src:"document.md",el:{documentation:"#documentation",loading:"#loading"},templates:{footer:"#tmpl-footer"},copy:{warning_file_protocol:"<strong>Warning:</strong> the markdown file cannot be loaded through the `file:` protocol. This file should be served through a webserver."}};this.config=b.extend(true,f,e||{});this._init()};d.prototype._init=function(){this._registerInstanceVariables();if(a.location.protocol!=="file:"){this.$documentation.load(this.config.md_src,b.proxy(this._processMarkdown,this))}else{this.$loading.html(this.config.copy.warning_file_protocol)}this.$documentation.on("click","a",b.proxy(this.targetBlank,this))};d.prototype._registerInstanceVariables=function(){var e=this.config;this.$documentation=b(e.el.documentation);this.$loading=b(e.el.loading)};d.prototype._processMarkdown=function(g){var f=new Showdown.converter(),e=f.makeHtml(g);this.$documentation.html(e);b("h2").each(function(j,l){var h=b(),k=l.nextSibling;b(l).wrapInner('<span class="double-underline" />');h.push(l);while(k){if(!b(k).is("h2")&&!b(k).is("table")){h.push(k);k=k.nextSibling}else{break}}var m=b(l).attr("id");b(l).attr("id","");h.wrapAll('<div class="main-container container-fluid" id="'+m+'" />')});b("h2").wrap("<header />");b("p").first().attr("class","lead");b("h1").attr("id","").prependTo("header:first");b("pre").addClass("prettyprint linenums");a.prettyPrint&&prettyPrint();this.fillContent({template_source:this.config.templates.footer,append_to:this.config.el.documentation,context:copy});this._processTables()};d.prototype._processTables=function(){b("table").each(function(l,f){var e=b(f),m=e.find("thead").find("th"),i=e.find("tbody").find("tr"),h=[],g=[],k={};e.addClass("table table-bordered table-striped table-id-"+l).wrap('<div class="large-container container-fluid" />');if(!e.hasClass("all-devices")){b(f).addClass("hidden-phone");m.each(function(n,o){h[n]=b(o).text()});i.each(function(o,n){b(n).find("td").each(function(p,r){var q=b(r).html();k['"'+h[p]+'"']=q});g.push(k);k={}});var j='<ul class="list-from-table visible-phone list-id-'+l+'" />';e.after(j);b.each(g,function(p,r){var o='<li><dl class="entry-id-'+p+'"></dl></li>',q,n;b(".list-id-"+l).append(o);b.each(h,function(t,s){q="<dt>"+s+"</dt>";n="<dd>"+r['"'+s+'"']+"</dd>";b(".entry-id-"+p).append(q+n)})})}})};d.prototype.targetBlank=function(e){e.preventDefault();var f=b(e.currentTarget).attr("href");a.open(f)};d.prototype.fillContent=function(g){var h=b(g.template_source).html(),f=Handlebars.compile(h),e=f(g.context);b(g.append_to).append(e)}}).call(this);